<!--
autores
- Fatima Talavera fa.talavera95@gmail.com
- Jerson Paniagua diazpany@gmail.com
-->
<style>
  canvas {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
  }
</style>
<div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-content">
    <div class="close-modal" data-dismiss="modal">
      <div class="lr">
        <div class="rl">
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-lg-offset-2" style="margin: 0px;">
          <div class="modal-body">
            <h2>Progreso 2015 - 2017</h2>
            <hr class="star-primary">-
            <div class="col-md-4" style="display: inline-flex; margin-bottom: 10px">
              <select id="date" class="form-control" disabled>
                <option value="1" selected>2017</option>
              </select>
            </div>
            <div class="col-md-6" style="display: inline-flex; margin-bottom: 10px">
              <select class="form-control">
                <%= @inst.reverse.each do |instituciones| %>
                  <option value="1" selected><%= instituciones[0] %></option>
                <% end %>
              </select>
            </div>

            <table class="table table-bordered pnd-table">
              <thead>
              <tr>
                <td class="text-title"></td>
                <td colspan="4" class="text-title text-bold">Líneas Transversales</td>
              </tr>
              <tr>
                <td class="text-title text-bold">Ejes Estratégicos</td>
                <td class="text-title">Igualdad de oportunidades</td>
                <td class="text-title">Gestión pública eficiente y transparente</td>
                <td class="text-title">Ordenamiento territorial</td>
                <td class="text-title">Sostenibilidad ambiental</td>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td class="text-title">Reducción de pobreza y desarrollo social</td>
                <td class="state-red">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">5%</div>
                </td>
                <td class="state-orange">
                  <div class="monto-text">Gs. 120.654.000</div>
                  <div class="percentage-text">15%</div>
                </td>
                <td class="state-green">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">80%</div>
                </td>
                <td class="state-orange">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">17%</div>
                </td>
              </tr>
              <tr>
                <td class="text-title">Crecimiento económico inclusivo</td>
                <td class="state-red">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">3%</div>
                </td>
                <td class="state-orange">
                  <div class="monto-text">Gs. 120.654.000</div>
                  <div class="percentage-text">20%</div>
                </td>
                <td class="state-green">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">83%</div>
                </td>
                <td class="state-orange">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">15%</div>
                </td>
              </tr>
              <tr>
                <td class="text-title">Inserción de Paraguay en el mundo</td>
                <td class="state-yellow">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">35%</div>
                </td>
                <td class="state-orange">
                  <div class="monto-text">Gs. 120.654.000</div>
                  <div class="percentage-text">25%</div>
                </td>
                <td class="state-yellow">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">35%</div>
                </td>
                <td class="state-orange">
                  <div class="monto-text">Gs. 98.354.160</div>
                  <div class="percentage-text">23%</div>
                </td>
              </tr>
              </tbody>
            </table>

            <div id="line-container" style="width: 75%; display: none" >
              <canvas id="line-canvas"></canvas>
            </div>

            <div id="line-container2" style="width: 75%;" >
              <canvas id="cost-advance-line-canvas"></canvas>
            </div>

            <input type="checkbox" id="leng1" class="toggle" data-toggle="toggle" data-style="ios" data-on="<i class='fa fa-reddit-alien'></i>" data-off="<i class='fa fa-user'></i>" data-onstyle="info" checked >

            <div id="lg-tec-leng1" class="paragraph">
              <p><strong>Eje estratégico:</strong> Determina la capacidad real de ejecución. La ejecución presupuestaria se realizará en base a planes financieros, generales e institucionales, de acuerdo con las normas técnicas y la periodicidad que se establezca en la reglamentación. Se tomarán en cuenta el flujo estacional de los ingresos y la capacidad real de ejecución del presupuesto de los organismos y entidades del Estado. Dichos planes financieros servirán de marco de referencia para la programación de caja y la asignación de cuotas. El monto es mensual.</p>
              <p><strong>Línea transversal:</strong> Compromiso de pago originado en un vínculo jurídico financiero entre un organismo o entidad del Estado y una persona física o jurídica. El monto es mensual.</p>
              <p><strong>Estrategia:</strong> Muestra el porcentaje de avance para todos los planes de acción en ejecución, por año y por institución.</p>
            </div>

            <div id="lg-user-leng1" class="paragraph" style="display: none">
              <p><strong>Eje estratégico:</strong> Determina la capacidad real de ejecución.</p>
              <p><strong>Línea transversal:</strong> Compromiso de pago originado en un vínculo jurídico financiero entre un organismo o entidad del Estado y una persona física o jurídica. El monto es mensual.</p>
              <p><strong>Estrategia:</strong> Muestra el porcentaje de avance para todos los planes de acción en ejecución, por año y por institución.</p>
            </div>

            <ul class="list-inline item-details">
              <li>Client:
                <strong><a href="http://startbootstrap.com">Start Bootstrap</a>
                </strong>
              </li>
              <li>Date:
                <strong><a href="http://startbootstrap.com">April 2014</a>
                </strong>
              </li>
              <li>Service:
                <strong><a href="http://startbootstrap.com">Web Development</a>
                </strong>
              </li>
            </ul>
            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Cerrar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .text-title{
    background-color: aliceblue;
    color: #0a7d66;
    text-align: center;
    vertical-align: middle;
  }
  .text-bold {
    font-weight: 800;
    text-transform: uppercase;
  }
  .monto-text {
    text-align: center;
  }
  .percentage-text {
    font-weight: 700;
    text-align: center;
    font-size: 150%;
    margin: 10px;
  }
  td{
    cursor: pointer;
  }
  td.state-red {
    background-color: #ff6262;
  }
  td.state-orange {
    background-color: #ffa754;
  }
  td.state-yellow {
    background-color: #fff67f;
  }
  td.state-green {
    background-color: #6afc9d;
  }
</style>

<script>
    window.chartColors = {
        red: 'rgb(255, 99, 132)',
        orange: 'rgb(255, 159, 64)',
        yellow: 'rgb(255, 205, 86)',
        green: 'rgb(75, 192, 192)',
        blue: 'rgb(54, 162, 235)',
        purple: 'rgb(153, 102, 255)',
        grey: 'rgb(201, 203, 207)'
    };

    randomFactor = function() {
        return (Math.random() > 0.5 ? 1.0 : 0.2) * Math.round(Math.random() * 100);
    };
    var color = Chart.helpers.color;
    var barChartData = {
        labels: ["Proyecto 1", "Proyecto 2", "Proyecto 3", "Proyecto 4", "Proyecto 5", "Proyecto 6", "Proyecto 7"],
        datasets: [{
            label: 'Proyectos',
            backgroundColor: color(window.chartColors.red).alpha(0.5).rgbString(),
            borderColor: window.chartColors.red,
            borderWidth: 1,
            data: [
                randomFactor(),
                randomFactor(),
                randomFactor(),
                randomFactor(),
                randomFactor(),
                randomFactor(),
                randomFactor()
            ]
        }]

    };


    $( "td" ).click(function() {
        $('#line-container').show();
        var zero = Math.random() < 0.2 ? true : false;
        barChartData.datasets.forEach(function(dataset) {
            dataset.data = dataset.data.map(function() {
                return zero ? 0.0 : randomFactor();
            });

        });
        window.myBar2.update();
    });

    var colorNames = Object.keys(window.chartColors);

    var config2 = {
        type: 'line',
        data: {
            labels: ["January", "February", "March", "April", "May", "June", "July"],
            datasets: [{
                label: "Unfilled",
                fill: false,
                backgroundColor: window.chartColors.blue,
                borderColor: window.chartColors.blue,
                data: [
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor()
                ],
            }, {
                label: "Dashed",
                fill: false,
                backgroundColor: window.chartColors.green,
                borderColor: window.chartColors.green,
                borderDash: [5, 5],
                data: [
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor()
                ],
            }, {
                label: "Filled",
                backgroundColor: window.chartColors.red,
                borderColor: window.chartColors.red,
                data: [
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor(),
                    randomFactor()
                ],
                fill: true,
            }]
        },
        options: {
            responsive: true,
            title:{
                display:true,
                text:'Chart.js Line Chart'
            },
            tooltips: {
                mode: 'index',
                intersect: false,
            },
            hover: {
                mode: 'nearest',
                intersect: true
            },
            scales: {
                xAxes: [{
                    display: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Month'
                    }
                }],
                yAxes: [{
                    display: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Value'
                    }
                }]
            }
        }
    };


</script>